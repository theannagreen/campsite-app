<%- include('../partials/header') %>

<!-- Content specific to the show Campsites page -->
<div class="glass">
    <h1>Campsite Details</h1>
    <p>This is the details page for a specific campsite.</p>

    <!--Reviews -->
    <h2>Reviews</h2>
    <div>
        <% if (campsite.reviews && campsite.reviews.length > 0) { %>
            <% campsite.reviews.forEach(review => { %>
                <div>
                    <p><strong>User:</strong> <%= review.userName %></p>
                    <p><strong>Rating:</strong> <%= review.rating %></p>
                    <p><strong>Review:</strong> <%= review.content %></p>
                </div>
            <% }); %>
        <% } else { %>
            <p>No reviews available.</p>
        <% } %>
    </div>

    <!-- Add Review Form -->
    <form id="add-review-form" method="POST" action="/campsites/<%= campsite._id %>/reviews">
        <label>Review:</label>
        <textarea name="content"></textarea>
        <label>Rating:</label>
        <select name="rating">
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5" selected>5</option>
        </select>
        <input type="submit" value="Add Review">
    </form>
        <!-- Update Campsite Link -->
        <a href="/campsites/edit/<%= campsite._id %>">Edit Campsite</a>
    </div>

<%- include('../partials/footer') %>